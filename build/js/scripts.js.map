{"version":3,"sources":["scripts.js"],"names":["handleScroll","video","document","querySelector","videoPosition","getBoundingClientRect","top","window","innerHeight","bottom","muted","loop","promise","play","undefined","then","console","log","catch","error","documentElement","addEventListener","once","scrollNav","querySelectorAll","forEach","enlace","e","preventDefault","seccionScroll","target","attributes","href","value","scrollIntoView","behavior","mostrarImagen","index","imagen","createElement","innerHTML","overlay","appendChild","classList","add","cerrarModal","textContent","onclick","body","remove","crearGaleria","galeria","i","navegacionFija","barra","sobreFestival","reproduceVideo","playsinline","controls","setAttribute","autoplay"],"mappings":"AAQA,SAASA,eACP,MAAMC,EAAQC,SAASC,cAAc,YAC/BC,EAAgBH,EAAMI,wBAG5B,GAAID,EAAcE,IAAMC,OAAOC,aAAeJ,EAAcK,QAAU,EAAG,CACvER,EAAMS,OAAQ,EACdT,EAAMU,MAAO,EAGb,MAAMC,EAAUX,EAAMY,YAGNC,IAAZF,GACFA,EACGG,KAAK,KACJC,QAAQC,IAAI,sCAEbC,MAAOC,IACNH,QAAQC,IAAI,sCACZf,SAASkB,gBAAgBC,iBAAiB,QAAS,KAC/CpB,EAAMY,QACL,CAAES,MAAM,OAOvB,SAASC,YACSrB,SAASsB,iBAAiB,2BAClCC,QAASC,IACfA,EAAOL,iBAAiB,SAAS,SAAUM,GACzCA,EAAEC,iBAEF,MAAMC,EAAgBF,EAAEG,OAAOC,WAAWC,KAAKC,MAC/B/B,SAASC,cAAc0B,GAC/BK,eAAe,CAAEC,SAAU,gBAMzC,SAASC,cAAcC,GACrB,MAAMC,EAASpC,SAASqC,cAAc,WACtCD,EAAOE,UAAY,0CACkBH,oEACAA,sGACkCA,sEAKvE,MAAMI,EAAUvC,SAASqC,cAAc,OACvCE,EAAQC,YAAYJ,GACpBG,EAAQE,UAAUC,IAAI,WAEtB,MAAMC,EAAc3C,SAASqC,cAAc,KAC3CM,EAAYC,YAAc,IAC1BD,EAAYF,UAAUC,IAAI,cAG1BC,EAAYE,QAAU,WACpB7C,SAAS8C,KAAKL,UAAUM,OAAO,cAC/BR,EAAQQ,UAIVR,EAAQM,QAAU,WAChB7C,SAAS8C,KAAKL,UAAUM,OAAO,cAC/BR,EAAQQ,UAGVR,EAAQC,YAAYG,GACpB3C,SAAS8C,KAAKN,YAAYD,GAC1BvC,SAAS8C,KAAKL,UAAUC,IAAI,cAG9B,SAASM,eACP,MAAMC,EAAUjD,SAASC,cAAc,qBAEvC,IAAK,IAAIiD,EAAI,EAAGA,GAAK,GAAIA,IAAK,CAC5B,MAAMd,EAASpC,SAASqC,cAAc,WACtCD,EAAOE,UAAY,+CACqBY,yEACAA,2GACkCA,8EAI1Ed,EAAOS,QAAU,WACfX,cAAcgB,IAGhBD,EAAQT,YAAYJ,IAKxB,SAASe,iBACP,MAAMC,EAAQpD,SAASC,cAAc,WAC/BoD,EAAgBrD,SAASC,cAAc,mBAE7CI,OAAOc,iBAAiB,UAAU,WAC5BkC,EAAclD,wBAAwBI,OAAS,GACjD6C,EAAMX,UAAUC,IAAI,QACpB1C,SAAS8C,KAAKL,UAAUC,IAAI,iBAE5BU,EAAMX,UAAUM,OAAO,QACvB/C,SAAS8C,KAAKL,UAAUM,OAAO,mBAMrC,SAASO,iBACP,MAAMvD,EAAQC,SAASC,cAAc,YAGrCF,EAAMS,OAAQ,EACdT,EAAMwD,aAAc,EACpBxD,EAAMU,MAAO,EACbV,EAAMyD,UAAW,EACjBzD,EAAM0D,aAAa,QAAS,IAC5B1D,EAAM2D,UAAW,EAGjB,MAAMhD,EAAUX,EAAMY,YAGNC,IAAZF,GACFA,EACGG,KAAK,KACJC,QAAQC,IAAI,sCAEbC,MAAOC,IACNH,QAAQC,IAAI,sCACZf,SAASkB,gBAAgBC,iBAAiB,QAAS,KAC/CpB,EAAMY,QACL,CAAES,MAAM,MAKnBf,OAAOc,iBAAiB,SAAUrB,cAxJpCE,SAASmB,iBAAiB,oBAAoB,WAC5CmC,iBACAH,iBACAH,eACA3B","file":"scripts.js","sourcesContent":["document.addEventListener(\"DOMContentLoaded\", function () {\n  reproduceVideo();\n  navegacionFija(); // Barra de navegación fija\n  crearGaleria();\n  scrollNav(); // SmoothScroll\n});\n\n/*=============== handleScroll (Intento 2) => función que al srollear = reproducción automática ===============*/\nfunction handleScroll() {\n  const video = document.querySelector(\"#videoJS\");\n  const videoPosition = video.getBoundingClientRect();\n\n  // Reproduce el video cuando está en el área visible\n  if (videoPosition.top < window.innerHeight && videoPosition.bottom >= 0) {\n    video.muted = true;\n    video.loop = true;\n\n    // Intentar reproducir el video\n    const promise = video.play();\n\n    // Manejar la promesa para navegadores que requieren interacción del usuario\n    if (promise !== undefined) {\n      promise\n        .then(() => {\n          console.log(\"Reproducción iniciada con éxito.\");\n        })\n        .catch((error) => {\n          console.log(\"Reproducción automática bloqueada.\");\n          document.documentElement.addEventListener(\"click\", () => {\n              video.play();\n            }, { once: true });\n        });\n    }\n  }\n}\n\n/*=============== SmoothScroll ===============*/\nfunction scrollNav() {\n  const enlaces = document.querySelectorAll(\".navegacion-principal a\");\n  enlaces.forEach((enlace) => {\n    enlace.addEventListener(\"click\", function (e) {\n      e.preventDefault();\n\n      const seccionScroll = e.target.attributes.href.value;\n      const seccion = document.querySelector(seccionScroll);\n      seccion.scrollIntoView({ behavior: \"smooth\" });\n    });\n  });\n}\n\n/*=============== Galería ===============*/\nfunction mostrarImagen(index) {\n  const imagen = document.createElement(\"picture\");\n  imagen.innerHTML = `\n    <source srcset=\"build/img/grande/${index}.avif\" type=\"image/avif\">\n    <source srcset=\"build/img/grande/${index}.webp\" type=\"image/webp\">\n    <img loading=\"lazy\" width=\"200\" height=\"300\" src=\"build/img/grande/${index}.jpg\"\n        alt=\"Imagen galeria\"> <!-- fallback -->\n    `;\n\n  // 1º Creando Overlay, para darle un poco de oscuridad a las img\n  const overlay = document.createElement(\"DIV\"); //oscurecemos un poco la pantalla de fondo.\n  overlay.appendChild(imagen);\n  overlay.classList.add(\"overlay\");\n\n  const cerrarModal = document.createElement(\"P\");\n  cerrarModal.textContent = \"X\";\n  cerrarModal.classList.add(\"btn-cerrar\");\n\n  // Elimina el overlay con un click\n  cerrarModal.onclick = function () {\n    document.body.classList.remove(\"fijar-body\");\n    overlay.remove();\n  };\n\n  // Elimina el overlay global con un click\n  overlay.onclick = function () {\n    document.body.classList.remove(\"fijar-body\");\n    overlay.remove();\n  };\n\n  overlay.appendChild(cerrarModal);\n  document.body.appendChild(overlay); // asi mostramos en el body la imagen\n  document.body.classList.add(\"fijar-body\"); // para evitar el scroll y se quede fijo\n}\n\nfunction crearGaleria() {\n  const galeria = document.querySelector(\".galeria-imagenes\");\n\n  for (let i = 1; i <= 12; i++) {\n    const imagen = document.createElement(\"picture\");\n    imagen.innerHTML = `\n        <source srcset=\"build/img/pequeña/${i}.avif\" type=\"image/avif\">\n        <source srcset=\"build/img/pequeña/${i}.webp\" type=\"image/webp\">\n        <img loading=\"lazy\" width=\"200\" height=\"300\" src=\"build/img/pequeña/${i}.jpg\"\n            alt=\"Imagen galeria\"> <!-- fallback -->\n        `;\n\n    imagen.onclick = function () {\n      mostrarImagen(i);\n    };\n\n    galeria.appendChild(imagen);\n  }\n}\n\n/*=============== Barra de navegación fija ===============*/\nfunction navegacionFija() {\n  const barra = document.querySelector(\".header\");\n  const sobreFestival = document.querySelector(\".sobre-festival\");\n\n  window.addEventListener(\"scroll\", function () {\n    if (sobreFestival.getBoundingClientRect().bottom < 0) {\n      barra.classList.add(\"fijo\");\n      document.body.classList.add(\"body-scroll\");\n    } else {\n      barra.classList.remove(\"fijo\");\n      document.body.classList.remove(\"body-scroll\");\n    }\n  });\n}\n\n/*=============== Reproducir video ===============*/\nfunction reproduceVideo() {\n  const video = document.querySelector(\"#videoJS\");\n\n  // Configurar propiedades del video\n  video.muted = true;\n  video.playsinline = true;\n  video.loop = true;\n  video.controls = false;\n  video.setAttribute(\"muted\", \"\");\n  video.autoplay = true;\n\n  // Intentar reproducir el video\n  const promise = video.play();\n\n  // Manejar la promesa para navegadores que requieren interacción del usuario\n  if (promise !== undefined) {\n    promise\n      .then(() => {\n        console.log(\"Reproducción iniciada con éxito.\");\n      })\n      .catch((error) => {\n        console.log(\"Reproducción automática bloqueada.\");\n        document.documentElement.addEventListener(\"click\", () => {\n            video.play();\n          }, { once: true });\n      });\n  }\n\n  // Asociar la función de manejo de scroll al evento de scroll\n  window.addEventListener(\"scroll\", handleScroll);\n}"]}